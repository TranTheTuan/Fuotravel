<app-toolbar></app-toolbar>
<div *ngIf="plan">
  <div class="cover">
    <div *ngIf="tmpCover && tmpCover !== '';then tempCover else trueCover"></div>
    <ng-template #tempCover>
      <img [src]="tmpCover" alt="temp cover">
    </ng-template>
    <ng-template #trueCover>
      <img src="{{ plan.cover | imageUrl }}" alt="plan cover image"/>
    </ng-template>
  </div>
  <div fxLayout="row" fxLayoutAlign="space-between" class="mt-3">
    <app-interaction *ngIf="currentUser.id !== plan.user_id" [planId]="plan.id" [membership]="membership"></app-interaction>
    <button mat-raised-button *ngIf="currentUser.id === plan.user_id" (click)="openDialog()">Edit</button>
  </div>
  <div class="container-sm mt-3">
    <h3>{{ plan.title }}</h3>
    <p>{{ plan.description }}</p>
    <p>bắt đầu tại: {{ plan.departure }}, vào hồi: {{ plan.start_at }}</p>
    <p>điểm đến: {{ plan.destination }}, vào hồi: {{ plan.arrival_at }}</p>
    <p>số thành viên dự kiến: {{ plan.members_quantity }}</p>
  </div>
</div>
<nav mat-tab-nav-bar mat-stretch-tabs>
  <a mat-tab-link *ngFor="let link of links"
     [routerLink]="link.path"
     routerLinkActive #rla="routerLinkActive"
     [active]="rla.isActive">
    {{link.label}}
  </a>
</nav>
<div class="container-sm border-right border-left p-3 bg-light">
  <router-outlet></router-outlet>
</div>

